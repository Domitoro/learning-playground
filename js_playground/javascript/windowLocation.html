<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Practicing window.location</title>
  </head>
  <body onload="checkCookie()">
    <!-- !After entering a name in the alert, refresh the page to see the new greeting. -->

    <p id="href">window.location.href</p>
    <p id="hostname">window.location.hostname</p>
    <p id="pathname">window.location.pathname</p>
    <p id="port">window.location.port</p>
    <p id="protocol">window.location.hostname</p>

    <input type="button" value="Load new document" onclick="newDocument()" />

    <p id="cookies">cookies!</p>

    <script>
      document.getElementById("href").innerHTML =
        "Page location is " + window.location.href;
      document.getElementById("hostname").innerHTML =
        "Page hostname is " + window.location.hostname;
      document.getElementById("pathname").innerHTML =
        "Page pathname is " + window.location.pathname;
      document.getElementById("port").innerHTML =
        "Page port is " + window.location.port; // Most browsers will not display default port numbers (80 for http and 443 for https)
      document.getElementById("protocol").innerHTML =
        "Page protocol is " + window.location.protocol;

      function newDocument() {
        window.location.assign("https://www.w3schools.com");
      }

      document.cookies =
        "username=John Smith; expires=Thu, 18 Dec 2013 12:00:00 UTC; path=/";
      document.getElementById("cookies").innerHTML = document.cookies;

      function setCookie(cname, cvalue, exdays) {
        const d = new Date();
        d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);
        let expires = "expires=" + d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
      }

      function getCookie(cname) {
        let name = cname + "=";
        let ca = document.cookie.split(";");
        for (let i = 0; i < ca.length; i++) {
          let c = ca[i];
          while (c.charAt(0) == " ") {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
          }
        }
        return "";
      }

      function checkCookie() {
        let user = getCookie("username");
        if (user != "") {
          alert("Welcome again " + user);
        } else {
          user = prompt("Please enter your name:", "");
          if (user != "" && user != null) {
            setCookie("username", user, 365);
          }
        }
      }
    </script>
  </body>
</html>
